<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="http://www.google.com/jsapi?key=AIzaSyAIcDGjwQmoHTrp2wbbvqpyaZR2nMMrJaM">
    </script>
    <script type="text/javascript">
var ge;
google.load("earth", "1");

function init() {
   google.earth.createInstance('map3d', initCB, failureCB);
}

function initCB(instance) {
   ge = instance;
   ge.getWindow().setVisibility(true);
   ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);
 
   var href = 'http://code.google.com/apis/kml/documentation/kmlfiles/bounce_example.kml';
   google.earth.fetchKml(ge, href, kmlFinishedLoading);
}

function kmlFinishedLoading(object) {
   ge.getTourPlayer().setTour(object);
   ge.getTourPlayer().play();
}

function failureCB(errorCode) {
}

google.setOnLoadCallback(init);

    </script>
  </head>
  <body onload="init()">
    <div id="map3d" style="width:100%; height:100%"></div>
  </body>
</html>
